{"version":3,"sources":["components/main/detail/assets/css/detail.module.scss","components/main/detail/detail.js"],"names":["module","exports","detail","sucadd","top","back","img","intro","bot","Detail","_this","Object","F_a_3React_react_p2_rec_p_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","F_a_3React_react_p2_rec_p_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","F_a_3React_react_p2_rec_p_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","state","num","_this2","props","shopList","forEach","val","id","location","search","substring","length","shopCart","F_a_3React_react_p2_rec_p_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","checked","refs","suc","style","display","setTimeout","e","preventDefault","setState","_this3","production","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","Fragment","className","ref","_common_back_back__WEBPACK_IMPORTED_MODULE_8__","src","price","title","Num","onClick","addPro","bind","value","disabled","reducePro","takePro","React","Component","container","connect","dispatch","pro","type","payload"],"mappings":"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","file":"static/js/10.20f56f0e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail\":\"detail_detail__1r9NM\",\"sucadd\":\"detail_sucadd__3my6G\",\"top\":\"detail_top__3BwMf\",\"back\":\"detail_back__3-2l5\",\"img\":\"detail_img__2NXHY\",\"intro\":\"detail_intro__QKxNJ\",\"bot\":\"detail_bot__152vS\"};","import React from 'react';\r\nimport style from './assets/css/detail.module.scss'\r\n\r\nimport Back from '../../common/back/back'\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nclass Detail extends React.Component{\r\n\r\n    constructor(){\r\n        super()\r\n        this.state={\r\n            num : 1\r\n        }\r\n    }\r\n\r\n\r\n    takePro(){\r\n        this.props.shopList.forEach(val=>{\r\n            if(val.id == this.props.location.search.substring(1,this.props.location.search.length)){\r\n                this.props.shopCart([{...val,num : this.state.num, checked : true}])\r\n            }\r\n        })\r\n        this.refs.suc.style.display = \"flex\";\r\n        setTimeout(()=>{\r\n            this.refs.suc.style.display = \"none\";\r\n        },500)\r\n\r\n    }\r\n\r\n    addPro(e){\r\n        e.preventDefault()\r\n        this.setState({\r\n            num : this.state.num + 1\r\n        })\r\n    }\r\n\r\n    reducePro(e){\r\n        e.preventDefault()\r\n        if( this.state.num > 1 ){\r\n            this.setState({\r\n                num : this.state.num - 1\r\n            })\r\n        }else{\r\n            this.setState({\r\n                num : 1\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    render(){\r\n        let { shopList } = this.props;\r\n        let production = {}\r\n        // console.log(this.props.location.search.substring(1,this.props.location.search.length))\r\n        if(shopList){\r\n            shopList.forEach(val=>{\r\n                if(val.id == this.props.location.search.substring(1,this.props.location.search.length)){\r\n                    production = {...val}\r\n                }\r\n            })\r\n        }\r\n        return  (\r\n            <>\r\n                <div className={style.detail}>\r\n\r\n                <div className = { style.sucadd } ref = \"suc\">\r\n                    <h2>添加商品成功</h2>\r\n                </div>\r\n                        <div className={style.top}>\r\n                        <div className={style.back}><Back {...this.props}/></div>\r\n                        <span>商品详情</span>\r\n                    </div>\r\n                        <div className={style.img}>\r\n                        <img src= {production.src} />\r\n                    </div>\r\n                        <span>￥{production.price}</span>\r\n                        <p> { production.title } </p>\r\n                        <div className = { style.Num }>\r\n                            <button onClick = { this.addPro.bind(this) }>+</button>\r\n                            <input value = {this.state.num} disabled />\r\n                            <button onClick = { this.reducePro.bind(this) }>-</button>\r\n                        </div>\r\n                        <ul className={style.intro}>\r\n                            <li>快递：免运费</li>\r\n                            <li>月销507</li>\r\n                            <li>上海</li>\r\n                        </ul>\r\n                        <div className={style.bot}>\r\n                        <em onClick = { this.takePro.bind(this) }>加入购物车</em>\r\n                        <em>立即购买</em>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps= (state,props)=>{\r\n    return {\r\n        shopList : state.shopList,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch,props)=>{\r\n    return {\r\n        shopCart : (pro)=>{\r\n            dispatch({type : \"SHOP_CART\", payload : pro })\r\n        }\r\n    }\r\n}\r\n\r\nconst container = connect(mapStateToProps,mapDispatchToProps)(Detail)\r\n\r\n\r\n\r\nexport default container;"],"sourceRoot":""}