{"version":3,"sources":["components/main/user/order.module.scss","components/main/user/img/ss.jpg","components/main/user/order.js"],"names":["module","exports","order","top","back","check","image","content","num","price","del","footer","span1","heji","__webpack_require__","p","Order","state","pro_sum","this","props","shopCart","forEach","val","checked","id","sendAdd","sendReduce","changeCheck","checkall","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","style","_common_back_back__WEBPACK_IMPORTED_MODULE_8__","length","map","index","key","type","onChange","change","bind","src","title","onClick","addPro","value","disabled","reducePro","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_9__","icon","faTrash","transform","checkAll","e","onoff","target","culSum","React","Component","container","connect","dispatch","pro","payload"],"mappings":"6EACAA,EAAAC,QAAA,CAAkBC,MAAA,qBAAAC,IAAA,mBAAAC,KAAA,oBAAAC,MAAA,qBAAAC,MAAA,qBAAAC,QAAA,uBAAAC,IAAA,mBAAAC,MAAA,qBAAAC,IAAA,mBAAAC,OAAA,sBAAAC,MAAA,qBAAAC,KAAA,0CCDlBb,EAAAC,QAAiBa,EAAAC,EAAuB,yLCYlCC,6MAEHC,MAAQ,CACLZ,OAAQ,2EAMR,IAAIa,EAAU,EAMd,OALAC,KAAKC,MAAMC,SAASC,QAAQ,SAAAC,GACtBA,EAAIC,UACJN,GAAWK,EAAIf,IAAMe,EAAId,SAGxBS,iCAGHO,GACJN,KAAKC,MAAMM,QAAQD,qCAEZA,GACPN,KAAKC,MAAMO,WAAWF,kCAElBA,GACJN,KAAKC,MAAMQ,YAAYH,sCAGvBN,KAAKC,MAAMS,4CAKL,IAAAC,EAAAX,KACCE,EAAaF,KAAKC,MAAlBC,SAGL,OACIU,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAMjC,OACnB6B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAMhC,KACnB4B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAM/B,MAAM2B,EAAAC,EAAAC,cAACG,EAAA,EAASjB,KAAKC,QAC3CW,EAAAC,EAAAC,cAAA,mCAEHF,EAAAC,EAAAC,cAAA,UAEMZ,EAASgB,OAAS,GAClBhB,EAASiB,IAAI,SAACf,EAAIgB,GACf,OACGR,EAAAC,EAAAC,cAAA,MAAIO,IAAOD,GACRR,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAM9B,OACnB0B,EAAAC,EAAAC,cAAA,SAAOQ,KAAK,WAAWjB,QAAWD,EAAIC,QAASkB,SAAYZ,EAAKa,OAAOC,KAAKd,EAAKP,EAAIE,OAExFM,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAM7B,OACnByB,EAAAC,EAAAC,cAAA,OAAKY,IAAOtB,EAAIsB,OAEnBd,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAM5B,SACnBwB,EAAAC,EAAAC,cAAA,aAAMV,EAAIuB,MAAV,KAEAf,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAM3B,KAChBuB,EAAAC,EAAAC,cAAA,UAAQc,QAAYjB,EAAKkB,OAAOJ,KAAMd,EAAKP,EAAIE,KAA/C,KACAM,EAAAC,EAAAC,cAAA,SAAOQ,KAAK,OAAOQ,MAAU1B,EAAIf,IAAM0C,UAAQ,IAC/CnB,EAAAC,EAAAC,cAAA,UAAQc,QAAYjB,EAAKqB,UAAUP,KAAMd,EAAKP,EAAIE,KAAlD,OAGTM,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAM1B,OACnBsB,EAAAC,EAAAC,cAAA,sBAAUV,EAAId,MAAd,KACAsB,EAAAC,EAAAC,cAACmB,EAAA,EAAD,CAAiBC,KAAMC,IAASC,UAAU,aAAarB,UAAWC,IAAMzB,WAW1FqB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAMxB,QAEnBoB,EAAAC,EAAAC,cAAA,SAAOQ,KAAK,WAAWM,QAAW5B,KAAKqC,SAASZ,KAAKzB,MAAOuB,SAAY,SAACe,GACtE,IAAIC,GAAQ,EACZ5B,EAAKV,MAAMC,SAASC,QAAQ,SAAAC,GACrBA,EAAIC,UACLkC,GAAQ,KAGdD,EAAEE,OAAOnC,QAAUkC,KAEtB3B,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,IAAMvB,OAAvB,gBAIAmB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAMtB,MACpBkB,EAAAC,EAAAC,cAAA,iCAASF,EAAAC,EAAAC,cAAA,mBAELd,KAAKyC,WAGT7B,EAAAC,EAAAC,cAAA,gCAEFF,EAAAC,EAAAC,cAAA,yBAAMF,EAAAC,EAAAC,cAAA,gBAAQZ,EAASgB,OAAjB,KAAN,cApGEwB,IAAMC,WAsIpBC,EAAYC,YAvBK,SAAC/C,EAAMG,GAC3B,MAAO,CACJC,SAAWJ,EAAMI,WAII,SAAC4C,EAAS7C,GAClC,MAAO,CACJM,QAAU,SAACwC,GACRD,EAAS,CAACxB,KAAO,UAAY0B,QAAUD,KAE1CvC,WAAa,SAACuC,GACXD,EAAS,CAACxB,KAAO,aAAe0B,QAAUD,KAE7CtC,YAAc,SAACsC,GACZD,EAAS,CAACxB,KAAO,YAAc0B,QAAUD,KAE5CrC,SAAW,WACRoC,EAAS,CAACxB,KAAO,YAAc0B,SAAU,OAKhCH,CAA4ChD,GAG/C+C","file":"static/js/8.a6706266.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"order\":\"order_order__1khLJ\",\"top\":\"order_top__oCA7s\",\"back\":\"order_back__238_e\",\"check\":\"order_check__3fyPR\",\"image\":\"order_image__2ORyw\",\"content\":\"order_content__ycWce\",\"num\":\"order_num__2UThP\",\"price\":\"order_price__11jG8\",\"del\":\"order_del__VUPNa\",\"footer\":\"order_footer__2_RYl\",\"span1\":\"order_span1__2jcMD\",\"heji\":\"order_heji__i3jq_\"};","module.exports = __webpack_public_path__ + \"static/media/ss.156410a0.jpg\";","import React from 'react';\r\nimport style from './order.module.scss'\r\nimport tu from './img/ss.jpg'\r\n\r\nimport Back from '../../common/back/back'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {faTrash}  from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nclass Order extends React.Component{\r\n\r\n   state = {\r\n      check : true\r\n   }\r\n\r\n\r\n   culSum(){\r\n      // console.log(this.props)\r\n      let pro_sum = 0;\r\n      this.props.shopCart.forEach(val=>{\r\n         if(val.checked){\r\n            pro_sum += val.num * val.price;\r\n         }\r\n      })\r\n      return pro_sum;\r\n   }\r\n\r\n   addPro(id){\r\n      this.props.sendAdd(id)\r\n   }\r\n   reducePro(id){\r\n      this.props.sendReduce(id)\r\n   }\r\n   change(id){\r\n      this.props.changeCheck(id)\r\n   }\r\n   checkAll(){\r\n      this.props.checkall()\r\n   }\r\n\r\n\r\n\r\n    render(){\r\n       let { shopCart } = this.props;\r\n\r\n      \r\n        return (\r\n            <div className={style.order}>\r\n               <div className={style.top}>\r\n                  <div className={style.back}><Back {...this.props}/></div>\r\n                  <span>购物车</span>\r\n               </div>\r\n               <ul>\r\n                  {\r\n                     shopCart.length > 0 &&\r\n                     shopCart.map((val,index)=>{\r\n                        return (\r\n                           <li key = {index} >\r\n                              <div className={style.check}>\r\n                                 <input type=\"checkbox\" checked = {val.checked} onChange = {this.change.bind(this,val.id)}/>\r\n                              </div>\r\n                              <div className={style.image}>\r\n                                 <img src= { val.src } />\r\n                              </div>\r\n                              <div className={style.content}>\r\n                                 <p> { val.title } </p>\r\n                                 {/* <span>颜色:白色</span> */}\r\n                                 <div className={style.num}>\r\n                                       <button onClick = { this.addPro.bind( this,val.id ) }>+</button>\r\n                                       <input type=\"text\" value = { val.num } disabled />\r\n                                       <button onClick = { this.reducePro.bind( this,val.id ) }>-</button>\r\n                                 </div>\r\n                              </div>\r\n                              <div className={style.price}>\r\n                                 <span>￥ { val.price } </span>\r\n                                 <FontAwesomeIcon icon={faTrash} transform=\"shrink--20\" className={style.del} />\r\n\r\n                              </div>\r\n                           </li>\r\n                        )\r\n                     })\r\n\r\n                  }\r\n                 \r\n                \r\n               </ul>\r\n               <div className={style.footer}>\r\n             \r\n                  <input type=\"checkbox\" onClick = {this.checkAll.bind(this)} onChange = {(e)=>{\r\n                     let onoff = true\r\n                     this.props.shopCart.forEach(val=>{\r\n                        if(!val.checked){\r\n                           onoff = false\r\n                        }\r\n                     })\r\n                     e.target.checked = onoff\r\n                  }} />\r\n                  <span className={style.span1} >全选</span>\r\n           \r\n                  \r\n                  \r\n                  <div className={style.heji}> \r\n                    <span>合计：<em>￥ \r\n                    {\r\n                        this.culSum()\r\n                    }  \r\n                    </em></span>\r\n                    <p>含运费</p>\r\n                  </div>\r\n                  <a>结算(<span> {shopCart.length} </span>)</a>\r\n               </div>\r\n            </div>\r\n    )\r\n  }\r\n\r\n  \r\n}\r\n\r\n\r\n\r\nconst mapStateToProps= (state,props)=>{\r\n   return {\r\n      shopCart : state.shopCart,\r\n   }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch,props)=>{\r\n   return {\r\n      sendAdd : (pro)=>{\r\n         dispatch({type : \"ADD_PRO\" , payload : pro })\r\n      },\r\n      sendReduce : (pro)=>{\r\n         dispatch({type : \"REDUCE_PRO\" , payload : pro })\r\n      },\r\n      changeCheck : (pro)=>{\r\n         dispatch({type : \"CHECK_PRO\" , payload : pro })\r\n      },\r\n      checkall : ()=>{\r\n         dispatch({type : \"CHECK_ALL\" , payload : true })\r\n      }\r\n   }\r\n}\r\n\r\nconst container = connect(mapStateToProps,mapDispatchToProps)(Order)\r\n\r\n\r\nexport default container\r\n\r\n"],"sourceRoot":""}